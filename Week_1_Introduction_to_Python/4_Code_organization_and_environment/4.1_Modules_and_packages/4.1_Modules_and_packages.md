# Модули и пакеты

В Python разделение кода осуществляется с помощью модулей и пакетов. Модуль в Python
— это обычный файл с расширением `.py`, который содержит определения переменных,
функций, классов, и который также может содержать импорты других модулей. Импорт
выполняется стандартной командой `import`.

Python импортирует модуль и выполняет все инструкции, которые в этом модуле на
верхнем уровне определены.

Иногда модулей недостаточно, используются более крупные объединения — пакеты.
Пакеты в Python — это директория, которая содержит один или больше модулей. Внутри
пакетов могут содержаться другие пакеты. Внутри директории с пакетом должен находиться файл `__init__.py` (обычно пустой). Этот файл выполняется каждый раз, когда
мы импортируем пакет.

Конструкция 
```python
from mymodule import my_function
```
позволяет импортировать только определённые объявления из модуля. Чтобы импортировать все объявления из модуля, пишут 
```python
from mymodule import *
```
Установка сторонних пакетов производится с помощью утилиты `pip`, а описания библиотек можно посмотреть на сайте [pypi.org](https://pypi.org/).

## Создание нового модуля

Создадим новый модуль. Перейдем в консоль, создадим директорию `myproject`, в которой мы будем работать. 
Перейдем в нее. Внутри директории `myproject` давайте создадим модуль, назовем его `mymodule` с расширением `.py`.
```
mkdir myproject
cd myproject
touch mymodule.py
```
Далее будем наполнять `mymodule.py` кодом.
### Ипорт модуля `sys`
Давайте начнем знакомиться с импортами и посмотрим на импорт модуля из стандартной библиотеки. Это делается с помощью ключевого слова `import`. 
Заимпортируем модуль стандартной библиотеки `sys`. 
Модуль `sys` содержит всевозможные переменные, структуры, функции для того, чтобы посмотреть на что-то, связанное с интерпретатором Python. 
В данном случае мы посмотрим на то, где Python ищет модули по умолчанию. 
Эта информация находится внутри переменной `sys.path`.

Внутри `mymodule.py`:
```python
import sys

print(sys.path)
```
Запустим напрямую из командной строки
```
python mymodule.py
```
Результат
```
['C:\\Users\\Alexander\\anaconda3\\Work\\Coursera_Diving_into_Python\\Week_1_Introduction_to_Python\\4_Code_organ
ization_and_environment\\4.1_Modules_and_packages\\myproject', 'C:\\Program Files\\Python38\\python38.zip', 'C:\\
Program Files\\Python38\\DLLs', 'C:\\Program Files\\Python38\\lib', 'C:\\Program Files\\Python38', 'C:\\Users\\Al
exander\\AppData\\Roaming\\Python\\Python38\\site-packages', 'C:\\Users\\Alexander\\AppData\\Roaming\\Python\\Pyt
hon38\\site-packages\\win32', 'C:\\Users\\Alexander\\AppData\\Roaming\\Python\\Python38\\site-packages\\win32\\li
b', 'C:\\Users\\Alexander\\AppData\\Roaming\\Python\\Python38\\site-packages\\Pythonwin', 'C:\\Program Files\\Pyt
hon38\\lib\\site-packages']
```
Это список директорий, в которых Python по умолчанию ищет модули. 
Обратите внимание, что на первом месте написана директория, в которой мы сейчас находимся. 
То есть Python будет искать модули в этой директории в первую очередь, 
поэтому ничто нам не мешает запустить интерактивный интерпретатор Python и попробовать заимпортировать наш модуль.
```
python
>>> import mymodule
['', 'C:\\Program Files\\Python38\\python38.zip', 'C:\\Program Files\\Python38\\DLLs', 'C:\\Program Files\\Python38\\lib', 'C:\\Program Files\\Python38', 'C:\\Users\\Alexander\\AppData\\Roaming\\Python\\Python38\\site-packages', 'C:\\U
sers\\Alexander\\AppData\\Roaming\\Python\\Python38\\site-packages\\win32', 'C:\\Users\\Alexander\\AppData\\Roaming\\Python\\Python38\\site-packages\\win32\\lib', 'C:\\Users\\Alexander\\AppData\\Roaming\\Python\\Python38\\site-packages
\\Pythonwin', 'C:\\Program Files\\Python38\\lib\\site-packages']
>>>
```
Если вызовем `import mymodule` еще раз, то ничего не произойдет. Это связано с тем, что Python импортирует модуль только один раз. 
Он импортирует имя модуля в локальное пространство имен, и в дальнейшем, если мы делаем точно такой же импорт, 
импорта не происходит, потому что Python видит, что мы уже ранее этот модуль импортировали, импорт закеширован. 
Когда происходит импорт, что вообще происходит? Python импортирует модуль и выполняет все инструкции, которые в этом модуле на верхнем уровне определены.
```
>>> import mymodule
>>>
```
